%h3 List of Parameter Sets

.filter_set_area.paramset_title_area_item
  %i#parameter_set_filter_modal_btn.fa.fa-search.fa-lg.clickable.add_padding.add_margin_bottom{onclick: "$('#parameter_set_filter_modal').modal('show');", data: {html: 'true', toggle: 'tooltip', original: {title: 'filter'}}}
  %span#parameter_filter_selected.add_padding.add_margin_bottom
    = @q ? raw(query_badge(@q)) : "Not filtering"
  -if @q
    %a#parameter_save_filter_btn{href: "#", onclick: "return show_filter_set_name_dlg();return false;"}
      Save
  - unless OACIS_READ_ONLY
    %a.btn.btn-primary.add_float_right.add_margin_new_ps{href: new_simulator_parameter_set_path(@simulator)}
      New Parameter Set

.clear-element
.create_ps_area{id: "ps_being_created_#{@simulator.id}"}
  = render partial: 'save_ps_task_status', locals: {simulator: @simulator, offset_num_ps: 0, offset_num_runs: 0}
.clear-element
%table.table.table-condensed.table-striped#params_list{:'data-source' => "#{_parameter_sets_list_simulator_path(@simulator.to_param, format: "json", q: @q&.conditions.to_json)}"}
  %thead
    %tr
      - ParameterSetsListDatatable.header(@simulator).each do |th_element|
        = raw(th_element)
  %tbody

- unless OACIS_READ_ONLY
  = render partial: 'create_runs_on_selected_modal', locals: {simulator: @simulator}

#parameter_set_filter_modal.modal.large.fade
  .modal-dialog.modal-vertical-centered
    .modal-content
      .modal-header
        %button.close{type: "button", "data-dismiss": "modal"}
          &times;
        %h4 Filter
      .modal-body.large#parameter_filter_setting_body
        = render 'filter_form', simulator: @simulator
        %button#parameter_set_filters_list_btn.btn{onclick: "$('#parameter_set_filters_list_modal').modal('show');"}
          Load Filter
      .modal-footer
        %button#parameter_filter_ok.btn.btn-primary
          OK
          / [TODO] implement me

#parameter_set_filters_list_modal.modal.large.fade
  .modal-dialog.modal-vertical-centered
    .modal-content
      .modal-header
        %button.close{type: "button", "data-dismiss" => "modal"}
          &times;
        %h4 Filters
      .modal-body.large#parameter_new_filter_create_body
        = render "filters_list", simulator: @simulator

:javascript
  $(function() {
    var id = 'params';
    const objTable = create_parameter_sets_list('#params_list', 100);
    const objList = $("#tab-list-parameters");
    $("#tab-list-parameters").setIntervalCommon(id,objTable,objList);
  });

  $(function () {
    $('[data-toggle="tooltip"]').tooltip();
  });
  $(function () {
    $('#ps_check_all').prop('checked', false);
  });
  $("#parameter_set_filters_list_modal").on('show.bs.modal', function(event) {
    const url = "#{_parameter_set_filters_list_simulator_path(@simulator)}";
    oFilterSetTable = create_parameter_set_filters_list('#parameter_set_filters_list', url);
  });

